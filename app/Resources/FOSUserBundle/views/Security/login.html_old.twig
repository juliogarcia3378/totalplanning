{% extends "FOSUserBundle::layout.html.twig" %}

{% block fos_user_content %}

<div class="logo">
    {% block logo %}
        <img src="{{ asset('bundles/digitalizacion/image/logo.png') }}" style="height: 8em;"/>
    {% endblock %}
</div>


<form  class="login-form" action="{{ path("fos_user_security_check") }}" method="post">
    <input type="hidden" name="_csrf_token" value="{{ csrf_token }}" />
    {% if error %}
        <div class="alert alert-danger display-show">
            <button class="close" data-dismiss="alert"></button>
                <span>
                     {{ error|trans({}, 'FOSUserBundle') }}
                </span>
        </div>
    {% endif %}

    <div class="form-group ">
        <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
        <label class="control-label visible-ie8 visible-ie9">{{ 'security.login.username'|trans({}, 'FOSUserBundle') }}</label>
        <div class="input-icon">
            <i class="fa fa-user"></i>
            <input class="form-control placeholder-no-fix" type="text" autocomplete="off" placeholder="{{ 'security.login.username'|trans({}, 'FOSUserBundle') }}" id="username" name="_username"  required="required" value="{% if last_username is defined %} {{ last_username }} {% endif %}"/>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">{{ 'security.login.password'|trans({}, 'FOSUserBundle') }}</label>
        <div class="input-icon">
            <i class="fa fa-lock"></i>
            <input class="form-control placeholder-no-fix" type="password" autocomplete="off" placeholder="{{ 'security.login.password'|trans({}, 'FOSUserBundle') }}" id="password" name="_password" required="required"/>
        </div>
    </div>

    <div class="forget-password">
        <h4>&iquest;Olvidó su contraseña?</h4>
        <p>
             Click
            <a href="javascript:;" id="forget-password">
                aquí
            </a>
            para restablecer su contraseña.
        </p>
    </div>
    <div class="create-account">
        <p>
            &iquest;No tiene una cuenta todav&iacute;a?&nbsp;
            <a href="javascript:;" id="register-btn">
                Crear nueva cuenta
            </a>
        </p>
    </div>
    <div class="form-actions">
        <button type="submit" id="_submit" name="_submit" class="btn blue pull-right">
            {{ 'security.login.submit'|trans({}, 'FOSUserBundle') }} <i class="m-icon-swapright m-icon-white"></i>
        </button>
    </div>
</form>
    <form class="register-form" action="{{ path('fos_user_registration_register') }}" method="post">
    <h3>Registrar usuario</h3>
    <p>
        Introduzca su informaci&oacute;n personal:
    </p>

    <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">Nombre</label>
        <div class="input-icon">
            <i class="fa fa-font"></i>
            {{ form_widget(form.persona.persona.nombre) }}
        </div>
    </div>
    <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">Apellidos</label>
        <div class="controls">
            <div class="input-icon">
                <i class="fa fa-font"></i>
                {{ form_widget(form.persona.apellidos) }}
            </div>
        </div>
    </div>
    {#<div class="form-group">#}
        {#<label class="control-label visible-ie8 visible-ie9">Direcci&ocute;n</label>#}
        {#<div class="input-icon">#}
            {#<i class="fa fa-font"></i>#}
            {#<input class="form-control placeholder-no-fix" type="text" autocomplete="off" placeholder="Dirección" id="{{ form.persona.persona.direccion.vars['id'] }}" name="{{ form.persona.persona.direccion.vars['full_name'] }}"/>#}
        {#</div>#}
    {#</div>#}
    {#<div class="form-group">#}
        {#<label class="control-label visible-ie8 visible-ie9">Tel&ecute;fono</label>#}
        {#<div class="input-icon">#}
            {#<i class="fa fa-font"></i>#}
            {#<input class="form-control placeholder-no-fix" type="text" autocomplete="off" id="{{ form.persona.telefono.vars['id'] }}" placeholder="Teléfono" name="{{ form.persona.telefono.vars['full_name'] }}"/>#}
        {#</div>#}
    {#</div>#}
        {#{{form_row(form.persona.correo)  }}#}
    <div class="form-group">
        <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
        <label class="control-label visible-ie8 visible-ie9"> {{ 'form.email'|trans({}, 'FOSUserBundle') }}</label>
        <div class="input-icon">
            <i class="fa fa-envelope"></i>
            {{ form_widget(form.persona.correo,{'attr':{'placeholder':'form.email'|trans({}, 'FOSUserBundle')}}) }}
            {{  form_errors(form.persona.correo) }}
            {#<input class="form-control placeholder-no-fix" type="text" autocomplete="off"  placeholder="{{ 'form.email'|trans({}, 'FOSUserBundle') }}" id="{{ form.persona.correo.vars['id'] }}" name="{{ form.persona.correo.vars['full_name'] }}"  />#}
        </div>
    </div>
    <p>
        Introduzca los detalles de su cuenta:
    </p>
        {{ form_mrow(form.username,{'attr':{'placeholder':'security.login.username'|trans({}, 'FOSUserBundle')}}) }}
        {#<div class="form-group ">#}
            {#<!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->#}
            {#<label class="control-label visible-ie8 visible-ie9">{{ 'security.login.username'|trans({}, 'FOSUserBundle') }}</label>#}
            {#<div class="input-icon">#}
                {#<i class="fa fa-user"></i>#}
                {#{{ form_widget(form.username,{'attr':{'placeholder':'security.login.username'|trans({}, 'FOSUserBundle')}}) }}#}
                {#{{ form_errors(form.username) }}#}
                {#&#123;&#35;<input class="form-control placeholder-no-fix" type="text" autocomplete="off" placeholder="{{ 'security.login.username'|trans({}, 'FOSUserBundle') }}" id="{{ form.username.vars['id'] }}" name="{{ form.username.vars['full_name'] }}"  />&#35;&#125;#}
            {#</div>#}
        {#</div>#}
        {{ form_mrow(form.username,{'attr':{'placeholder':'security.login.username'|trans({}, 'FOSUserBundle')}}) }}
        {#<div class="form-group">#}
            {#<label class="control-label visible-ie8 visible-ie9">{{ 'security.login.password'|trans({}, 'FOSUserBundle') }}</label>#}
            {#<div class="input-icon">#}
                {#<i class="fa fa-lock"></i>#}
                {#{{ form_widget(form.plainPassword.first,{'attr':{'placeholder':'security.login.password'|trans({}, 'FOSUserBundle')}}) }}#}
                {#{{ form_errors(form.plainPassword.first) }}#}
                {#&#123;&#35;<input class="form-control placeholder-no-fix" type="password" autocomplete="off" placeholder="{{ ''|trans({}, 'FOSUserBundle') }}" id="{{ form.plainPassword.first.vars['id'] }}" name="{{ form.plainPassword.first.vars['full_name'] }}" />&#35;&#125;#}
            {#</div>#}
        {#</div>#}
    <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">{{ 'form.password_confirmation'|trans({}, 'FOSUserBundle') }}</label>
        <div class="controls">
            <div class="input-icon">
                <i class="fa fa-check"></i>
                {{ form_widget(form.plainPassword.second,{'attr':{'placeholder':'form.password_confirmation'|trans({}, 'FOSUserBundle')}}) }}
                {{ form_errors(form.plainPassword.second) }}
                {#<input class="form-control placeholder-no-fix" type="password" autocomplete="off" placeholder="{{ ''|trans({}, 'FOSUserBundle') }}" id="{{ form.plainPassword.second.vars['id'] }}" name="{{ form.plainPassword.second.vars['full_name'] }}" />#}
            </div>
        </div>
    </div>
    {{ form_widget(form._token) }}
    {#<input type="hidden" value="{{ csrf_token }}" id="{{ form._token.vars['id'] }}" name="{{ form._token.vars['full_name'] }}"/>#}
    {#<div class="form-group">#}
        {#<div id="register_tnc_error">#}
        {#</div>#}
    {#</div>#}
    <div class="form-actions">
        <button id="register-back-btn" type="button" class="btn">
            <i class="m-icon-swapleft"></i> Atr&aacute;s </button>
        <button type="submit" id="register-submit-btn" class="btn blue pull-right">
            {{ 'layout.register'|trans({}, 'FOSUserBundle') }} <i class="m-icon-swapright m-icon-white"></i>
        </button>
    </div>
    </form>
{% endblock fos_user_content %}
